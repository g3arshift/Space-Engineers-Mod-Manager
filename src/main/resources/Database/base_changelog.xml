<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet author="Gear Shift (generated)" id="1741759876022-1">
        <createTable tableName="mod">
            <column name="mod_id" type="TEXT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="friendly_name" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="published_service_name" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueComputed="FALSE" name="active" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-2">
        <createTable tableName="mod_category">
            <column name="mod_id" type="TEXT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="mod_category_pk"/>
            </column>
            <column name="category" type="TEXT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="mod_category_pk"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-3">
        <createTable tableName="mod_list_profile">
            <column name="mod_list_profile_id" type="TEXT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="profile_name" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="space_engineers_version" type="TEXT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-4">
        <createTable tableName="mod_list_profile_mod">
            <column name="mod_list_profile_id" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="mod_id" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="load_priority" type="INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-5">
        <createTable tableName="mod_modified_path">
            <column name="mod_id" type="TEXT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="mod_modified_path_pk"/>
            </column>
            <column name="modified_path" type="TEXT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="mod_modified_path_pk"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-6">
        <createTable tableName="modio_mod">
            <column name="mod_id" type="TEXT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="last_updated_year" type="INTEGER"/>
            <column name="last_updated_month_day" type="TEXT"/>
            <column name="last_updated_hour" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-7">
        <createTable tableName="save_profile">
            <column name="save_profile_id" type="TEXT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="profile_name" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="save_name" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="save_path" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="last_used_mod_list_profile_id" type="TEXT"/>
            <column name="last_save_status" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="last_saved" type="TEXT"/>
            <column defaultValueComputed="FALSE" name="save_exists" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="space_engineers_version" type="TEXT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-8">
        <createTable tableName="steam_mod">
            <column name="mod_id" type="TEXT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="last_updated" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-9">
        <createTable tableName="user_configuration">
            <column autoIncrement="true" name="id" type="INTEGER">
                <constraints primaryKey="true"/>
            </column>
            <column defaultValue="PrimerLight" name="user_theme" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="last_modified_save_profile_id" type="TEXT"/>
            <column name="last_active_mod_profile_id" type="TEXT"/>
            <column name="last_active_save_profile_id" type="TEXT"/>
            <column defaultValueComputed="FALSE" name="run_first_time_setup" type="INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-10">
        <createTable tableName="user_configuration_mod_list_profile">
            <column name="user_configuration_id" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="mod_list_profile_id" type="TEXT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-11">
        <createTable tableName="user_configuration_save_profile">
            <column name="user_configuration_id" type="INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="user_configuration_save_profile_pk"/>
            </column>
            <column name="save_profile_id" type="TEXT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="user_configuration_save_profile_pk"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-12">
        <addPrimaryKey columnNames="mod_id, mod_list_profile_id" constraintName="mod_list_profile_mod_pk" tableName="mod_list_profile_mod"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-13">
        <addPrimaryKey columnNames="mod_list_profile_id, user_configuration_id" constraintName="user_configuration_mod_list_profile_pk" tableName="user_configuration_mod_list_profile"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-14">
        <createIndex indexName="mod_list_profile_mod_mod_id_index" tableName="mod_list_profile_mod">
            <column name="mod_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-15">
        <createIndex indexName="mod_list_profile_mod_mod_list_profile_id_index" tableName="mod_list_profile_mod">
            <column name="mod_list_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-16">
        <createIndex indexName="mod_modified_path_mod_id_index" tableName="mod_modified_path">
            <column name="mod_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-17">
        <createIndex indexName="user_configuration_last_active_mod_profile_id_index" tableName="user_configuration">
            <column name="last_active_mod_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-18">
        <createIndex indexName="user_configuration_last_active_save_profile_id_index" tableName="user_configuration">
            <column name="last_active_save_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-19">
        <createIndex indexName="user_configuration_last_modified_save_profile_id_index" tableName="user_configuration">
            <column name="last_modified_save_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-20">
        <createIndex indexName="user_configuration_mod_list_profile_mod_list_profile_id_index" tableName="user_configuration_mod_list_profile">
            <column name="mod_list_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-21">
        <createIndex indexName="user_configuration_mod_list_profile_user_configuration_id_index" tableName="user_configuration_mod_list_profile">
            <column name="user_configuration_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-22">
        <createIndex indexName="user_configuration_mod_list_profile_user_configuration_id_mod_list_profile_id_index" tableName="user_configuration_mod_list_profile">
            <column name="user_configuration_id"/>
            <column name="mod_list_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-23">
        <createIndex indexName="user_configuration_save_profile_save_profile_id_index" tableName="user_configuration_save_profile">
            <column name="save_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-24">
        <createIndex indexName="user_configuration_save_profile_user_configuration_id_index" tableName="user_configuration_save_profile">
            <column name="user_configuration_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-25">
        <addForeignKeyConstraint baseColumnNames="mod_id" baseTableName="mod_category" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="mod_id" referencedTableName="mod" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-26">
        <addForeignKeyConstraint baseColumnNames="mod_id,mod_list_profile_id" baseTableName="mod_list_profile_mod" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="mod_id,mod_list_profile_id" referencedTableName="mod_list_profile" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-27">
        <addForeignKeyConstraint baseColumnNames="mod_id" baseTableName="mod_modified_path" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="mod_id" referencedTableName="mod" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-28">
        <addForeignKeyConstraint baseColumnNames="mod_id" baseTableName="modio_mod" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="mod_id" referencedTableName="mod" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-29">
        <addForeignKeyConstraint baseColumnNames="last_used_mod_list_profile_id" baseTableName="save_profile" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="SET NULL" onUpdate="NO ACTION" referencedColumnNames="mod_list_profile_id" referencedTableName="mod_list_profile" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-30">
        <addForeignKeyConstraint baseColumnNames="mod_id" baseTableName="steam_mod" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="mod_id" referencedTableName="mod" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-31">
        <addForeignKeyConstraint baseColumnNames="last_active_mod_profile_id,last_active_save_profile_id,last_modified_save_profile_id" baseTableName="user_configuration" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="SET NULL" onUpdate="NO ACTION" referencedColumnNames="mod_list_profile_id,save_profile_id,save_profile_id" referencedTableName="save_profile" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-32">
        <addForeignKeyConstraint baseColumnNames="mod_list_profile_id,user_configuration_id" baseTableName="user_configuration_mod_list_profile" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="mod_list_profile_id,id" referencedTableName="user_configuration" validate="true"/>
    </changeSet>
    <changeSet author="Gear Shift (generated)" id="1741759876022-33">
        <addForeignKeyConstraint baseColumnNames="save_profile_id,user_configuration_id" baseTableName="user_configuration_save_profile" constraintName="" deferrable="true" initiallyDeferred="true" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="save_profile_id,id" referencedTableName="user_configuration" validate="true"/>
    </changeSet>
</databaseChangeLog>
